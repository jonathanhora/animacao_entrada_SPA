(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{1449:(e,t,r)=>{"use strict";r.d(t,{Tt:()=>I,Ze:()=>A,i6:()=>K,qg:()=>J});var n=r(74951),i=r(83048),a=r.n(i),s=r(63510),o=r(73357),u=r(23474);let l=e=>!!e&&"object"==typeof e,c=(...e)=>e.reduce((e,t)=>("object"!=typeof t||Object.keys(t).forEach(r=>{Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=e[r].concat(t[r]):l(e[r])&&l(t[r])?e[r]=c(e[r],t[r]):e[r]=t[r]}),e),{}),d=e=>Object.keys(e).map(t=>e[t]),m=e=>e.reduce((e,t)=>e.concat(t),[]),p=e=>{if(!e.length)return[];let t=[];for(let r=0;r<e.length;r++)t.push(e[r]);return t};var f={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};let g=({baseUrl:e="",source:t="",range:r="",indexRange:i=""})=>{let s={uri:t,resolvedUri:(0,n.A)(e||"",t)};if(r||i){let e,t=(r||i).split("-"),n=a().BigInt?a().BigInt(t[0]):parseInt(t[0],10),o=a().BigInt?a().BigInt(t[1]):parseInt(t[1],10);n<Number.MAX_SAFE_INTEGER&&"bigint"==typeof n&&(n=Number(n)),o<Number.MAX_SAFE_INTEGER&&"bigint"==typeof o&&(o=Number(o)),"bigint"==typeof(e="bigint"==typeof o||"bigint"==typeof n?a().BigInt(o)-a().BigInt(n)+a().BigInt(1):o-n+1)&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),s.byterange={length:e,offset:n}}return s},b=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e))?null:e,h={static(e){let{duration:t,timescale:r=1,sourceDuration:n,periodDuration:i}=e,a=b(e.endNumber),s=t/r;return"number"==typeof a?{start:0,end:a}:"number"==typeof i?{start:0,end:i/s}:{start:0,end:n/s}},dynamic(e){let{NOW:t,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:a,periodStart:s=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:u=1/0}=e,l=b(e.endNumber),c=(t+r)/1e3,d=n+s,m=Math.ceil((c+o-d)*i/a),p=Math.floor((c-d-u)*i/a),f=Math.floor((c-d)*i/a);return{start:Math.max(0,p),end:"number"==typeof l?l:Math.min(m,f)}}},S=e=>{let{type:t,duration:r,timescale:n=1,periodDuration:i,sourceDuration:a}=e,{start:s,end:o}=h[t](e),u=((e,t)=>{let r=[];for(let n=e;n<t;n++)r.push(n);return r})(s,o).map(t=>{let{duration:r,timescale:n=1,periodStart:i,startNumber:a=1}=e;return{number:a+t,duration:r/n,timeline:i,time:t*r}});if("static"===t){let e=u.length-1;u[e].duration=("number"==typeof i?i:a)-r/n*e}return u},y=e=>{let{baseUrl:t,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:a,presentationTime:s,number:o=0,duration:u}=e;if(!t)throw Error(f.NO_BASE_URL);let l=g({baseUrl:t,source:r.sourceURL,range:r.range}),c=g({baseUrl:t,source:t,indexRange:i});if(c.map=l,u){let t=S(e);t.length&&(c.duration=t[0].duration,c.timeline=t[0].timeline)}else n&&(c.duration=n,c.timeline=a);return c.presentationTime=s||a,c.number=o,[c]},I=(e,t,r)=>{let n,i=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,o=e.timeline||0,u=e.sidx.byterange,l=u.offset+u.length,c=t.timescale,d=t.references.filter(e=>1!==e.referenceType),m=[],p=e.endList?"static":"dynamic",f=e.sidx.timeline,g=f,b=e.mediaSequence||0;n="bigint"==typeof t.firstOffset?a().BigInt(l)+t.firstOffset:l+t.firstOffset;for(let e=0;e<d.length;e++){let u,l=t.references[e],d=l.referencedSize,h=l.subsegmentDuration;u="bigint"==typeof n?n+a().BigInt(d)-a().BigInt(1):n+d-1;let S={baseUrl:r,timescale:c,timeline:o,periodStart:f,presentationTime:g,number:b,duration:h,sourceDuration:s,indexRange:`${n}-${u}`,type:p},I=y(S)[0];i&&(I.map=i),m.push(I),"bigint"==typeof n?n+=a().BigInt(d):n+=d,g+=h/c,b++}return e.segments=m,e},E=["AUDIO","SUBTITLES"],T=1/60,U=e=>{let t;return(t=({timeline:e})=>e,d(e.reduce((e,r)=>(r.forEach(r=>{e[t(r)]=r}),e),{}))).sort((e,t)=>e.timeline>t.timeline?1:-1)},D=e=>{let t=[];return(0,s._)(e,E,(e,r,n,i)=>{t=t.concat(e.playlists||[])}),t},N=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach((t,r)=>{t.number=e.mediaSequence+r})},A=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?a().BigInt(e.offset)+a().BigInt(e.length)-a().BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),v=e=>{let t=e.reduce(function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e},{}),r=[];return Object.values(t).forEach(e=>{let t=d(e.reduce((e,t)=>{let r=t.attributes.id+(t.attributes.lang||"");return e[r]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[r].segments.push(...t.segments)),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):(e[r]=t,e[r].attributes.timelineStarts=[]),e[r].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{}));r=r.concat(t)}),r.map(e=>(e.discontinuityStarts=(e.segments||[]).reduce((e,t,r)=>(t.discontinuity&&e.push(r),e),[]),e))},O=(e,t)=>{let r=A(e.sidx),n=r&&t[r]&&t[r].sidx;return n&&I(e,n,e.sidx.resolvedUri),e},R=({attributes:e,segments:t,sidx:r,discontinuityStarts:n})=>{let i={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:n,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(i.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(i.contentProtection=e.contentProtection),e.serviceLocation&&(i.attributes.serviceLocation=e.serviceLocation),r&&(i.sidx=r),i},_=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,L=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,M=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,P=e=>e?Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(n.playlists)},[]):[],B=(e,t,r)=>{let{NOW:n,clientOffset:i,availabilityStartTime:a,timescale:s=1,periodStart:o=0,minimumUpdatePeriod:u=0}=e;return Math.ceil((((n+i)/1e3+u-(a+o))*s-t)/r)},w=(e,t)=>{let{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:a,timescale:s=1,startNumber:o=1,periodStart:u}=e,l=[],c=-1;for(let d=0;d<t.length;d++){let m,p=t[d],f=p.d,g=p.r||0,b=p.t||0;if(c<0&&(c=b),b&&b>c&&(c=b),g<0){let o=d+1;m=o===t.length?"dynamic"===r&&n>0&&i.indexOf("$Number$")>0?B(e,c,f):(a*s-c)/f:(t[o].t-c)/f}else m=g+1;let h=o+l.length+m,S=o+l.length;for(;S<h;)l.push({number:S,duration:f/s,time:c,timeline:u}),c+=f,S++}return l},x=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,C=(e,t)=>e.replace(x,(e=>(t,r,n,i)=>{if("$$"===t)return"$";if(void 0===e[r])return t;let a=""+e[r];return"RepresentationID"===r||(i=n?parseInt(i,10):1,a.length>=i)?a:`${Array(i-a.length+1).join("0")}${a}`})(t)),F=(e,t)=>{let r={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=e,a=g({baseUrl:e.baseUrl,source:C(i.sourceURL,r),range:i.range});return((e,t)=>e.duration||t?e.duration?S(e):w(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t).map(t=>{r.Number=t.number,r.Time=t.time;let i=C(e.media||"",r),s=e.timescale||1,o=e.presentationTimeOffset||0,u=e.periodStart+(t.time-o)/s;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:(0,n.A)(e.baseUrl||"",i),map:a,number:t.number,presentationTime:u}})},G=(e,t)=>{let r,{duration:n,segmentUrls:i=[],periodStart:a}=e;if(!n&&!t||n&&t)throw Error(f.SEGMENT_TIME_UNSPECIFIED);let s=i.map(t=>((e,t)=>{let{baseUrl:r,initialization:n={}}=e,i=g({baseUrl:r,source:n.sourceURL,range:n.range}),a=g({baseUrl:r,source:t.media,range:t.mediaRange});return a.map=i,a})(e,t));return n&&(r=S(e)),t&&(r=w(e,t)),r.map((t,r)=>{if(s[r]){let n=s[r],i=e.timescale||1,o=e.presentationTimeOffset||0;return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n.presentationTime=a+(t.time-o)/i,n}}).filter(e=>e)},$=({attributes:e,segmentInfo:t})=>{let r,n;t.template?(n=F,r=c(e,t.template)):t.base?(n=y,r=c(e,t.base)):t.list&&(n=G,r=c(e,t.list));let i={attributes:e};if(!n)return i;let a=n(r,t.segmentTimeline);if(r.duration){let{duration:e,timescale:t=1}=r;r.duration=e/t}else a.length?r.duration=a.reduce((e,t)=>Math.max(e,Math.ceil(t.duration)),0):r.duration=0;return i.attributes=r,i.segments=a,t.base&&r.indexRange&&(i.sidx=a[0],i.segments=[]),i},k=(e,t)=>p(e.childNodes).filter(({tagName:e})=>e===t),q=e=>e.textContent.trim(),H=e=>{let t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;let[r,n,i,a,s,o]=t.slice(1);return 31536e3*parseFloat(r||0)+2592e3*parseFloat(n||0)+86400*parseFloat(i||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(o||0)},V={mediaPresentationDuration:e=>H(e),availabilityStartTime:e=>(e=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)))(e)/1e3,minimumUpdatePeriod:e=>H(e),suggestedPresentationDelay:e=>H(e),type:e=>e,timeShiftBufferDepth:e=>H(e),start:e=>H(e),width:e=>parseInt(e,10),height:e=>parseInt(e,10),bandwidth:e=>parseInt(e,10),frameRate:e=>parseFloat(e.split("/").reduce((e,t)=>e/t)),startNumber:e=>parseInt(e,10),timescale:e=>parseInt(e,10),presentationTimeOffset:e=>parseInt(e,10),duration(e){let t=parseInt(e,10);return isNaN(t)?H(e):t},d:e=>parseInt(e,10),t:e=>parseInt(e,10),r:e=>parseInt(e,10),presentationTime:e=>parseInt(e,10),DEFAULT:e=>e},j=e=>e&&e.attributes?p(e.attributes).reduce((e,t)=>{let r=V[t.name]||V.DEFAULT;return e[t.name]=r(t.value),e},{}):{},z={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},X=(e,t)=>t.length?m(e.map(function(e){return t.map(function(t){let r=q(t),i=(0,n.A)(e.baseUrl,r),a=c(j(t),{baseUrl:i});return i!==r&&!a.serviceLocation&&e.serviceLocation&&(a.serviceLocation=e.serviceLocation),a})})):e,W=e=>{let t=k(e,"SegmentTemplate")[0],r=k(e,"SegmentList")[0],n=r&&k(r,"SegmentURL").map(e=>c({tag:"SegmentURL"},j(e))),i=k(e,"SegmentBase")[0],a=r||t,s=a&&k(a,"SegmentTimeline")[0],o=r||i||t,u=o&&k(o,"Initialization")[0],l=t&&j(t);l&&u?l.initialization=u&&j(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});let d={template:l,segmentTimeline:s&&k(s,"S").map(e=>j(e)),list:r&&c(j(r),{segmentUrls:n,initialization:j(u)}),base:i&&c(j(i),{initialization:j(u)})};return Object.keys(d).forEach(e=>{d[e]||delete d[e]}),d},Y=e=>m(k(e.node,"EventStream").map(t=>{let r=j(t),n=r.schemeIdUri;return k(t,"Event").map(t=>{let i=j(t),a=i.presentationTime||0,s=r.timescale||1,o=i.duration||0,u=a/s+e.attributes.start;return{schemeIdUri:n,value:r.value,id:i.id,start:u,end:u+o/s,messageData:q(t)||i.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),Z=e=>{let t,r;if(""===e)throw Error(f.DASH_EMPTY_MANIFEST);let n=new u.DOMParser;try{r=(t=n.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw Error(f.DASH_INVALID_XML);return r},J=(e,t={})=>{let r=((e,t={})=>{let{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:a=function(){}}=t,s=k(e,"Period");if(!s.length)throw Error(f.INVALID_NUMBER_OF_PERIOD);let u=k(e,"Location"),l=j(e),d=X([{baseUrl:r}],k(e,"BaseURL")),p=k(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,u.length&&(l.locations=u.map(q));let g=[];return s.forEach((e,t)=>{let r=j(e),n=g[t-1];r.start=(({attributes:e,priorPeriodAttributes:t,mpdType:r})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==r?null:0)({attributes:r,priorPeriodAttributes:n?n.attributes:null,mpdType:l.type}),g.push({node:e,attributes:r})}),{locations:l.locations,contentSteeringInfo:((e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;let r=c({serverURL:q(e[0])},j(e[0]));return r.queryBeforeStart="true"===r.queryBeforeStart,r})(p,a),representationInfo:m(g.map((e,t)=>{let r=X(d,k(e.node,"BaseURL")),n=c(l,{periodStart:e.attributes.start});"number"==typeof e.attributes.duration&&(n.periodDuration=e.attributes.duration);let i=k(e.node,"AdaptationSet"),a=W(e.node);return m(i.map(e=>{let t,i=j(e),s=X(r,k(e,"BaseURL")),u=c(n,i,{role:j(k(e,"Role")[0])}),l=(e=>"urn:scte:dash:cc:cea-608:2015"===e.schemeIdUri?("string"!=typeof e.value?[]:e.value.split(";")).map(e=>{let t,r;return r=e,/^CC\d=/.test(e)?[t,r]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:r}}):"urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri?("string"!=typeof e.value?[]:e.value.split(";")).map(e=>{let t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){let[r,n=""]=e.split("=");t.channel=r,t.language=e,n.split(",").forEach(e=>{let[r,n]=e.split(":");"lang"===r?t.language=n:"er"===r?t.easyReader=Number(n):"war"===r?t.aspectRatio=Number(n):"3D"===r&&(t["3D"]=Number(n))})}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}):void 0)(j(k(e,"Accessibility")[0]));l&&(u=c(u,{captionServices:l}));let d=k(e,"Label")[0];d&&d.childNodes.length&&(u=c(u,{label:d.childNodes[0].nodeValue.trim()}));let p=k(e,"ContentProtection").reduce((e,t)=>{let r=j(t);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());let n=z[r.schemeIdUri];if(n){e[n]={attributes:r};let i=k(t,"cenc:pssh")[0];if(i){let t=q(i);e[n].pssh=t&&(0,o.A)(t)}}return e},{});Object.keys(p).length&&(u=c(u,{contentProtection:p}));let f=W(e),g=k(e,"Representation"),b=c(a,f);return m(g.map((t=u,e=>{let r=X(s,k(e,"BaseURL")),n=c(t,j(e)),i=W(e);return r.map(e=>({segmentInfo:c(b,i),attributes:c(n,e)}))})))}))})),eventStream:m(g.map(Y))}})(Z(e),t);return(({dashPlaylists:e,locations:t,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:a})=>{var s;if(!e.length)return{};let{sourceDuration:o,type:u,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=e[0].attributes,d=v(e.filter(_)).map(R),m=v(e.filter(L)),p=v(e.filter(M)),f=e.map(e=>e.attributes.captionServices).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:((e,t={})=>{if(!Object.keys(t).length)return e;for(let r in e)e[r]=O(e[r],t);return e})(d,n)};c>=0&&(g.minimumUpdatePeriod=1e3*c),t&&(g.locations=t),r&&(g.contentSteering=r),"dynamic"===u&&(g.suggestedPresentationDelay=l),a&&a.length>0&&(g.eventStream=a);let b=0===g.playlists.length,h=m.length?((e,t={},r=!1)=>{let n,i=e.reduce((e,i)=>{let a=i.attributes.role&&i.attributes.role.value||"",s=i.attributes.lang||"",o=i.attributes.label||"main";if(s&&!i.attributes.label){let e=a?` (${a})`:"";o=`${i.attributes.lang}${e}`}e[o]||(e[o]={language:s,autoselect:!0,default:"main"===a,playlists:[],uri:""});let u=O((({attributes:e,segments:t,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:a},s)=>{let o={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:i,discontinuityStarts:a,timelineStarts:e.timelineStarts,mediaSequence:n,segments:t};return e.contentProtection&&(o.contentProtection=e.contentProtection),e.serviceLocation&&(o.attributes.serviceLocation=e.serviceLocation),r&&(o.sidx=r),s&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o})(i,r),t);return e[o].playlists.push(u),void 0===n&&"main"===a&&((n=i).default=!0),e},{});if(!n){let e=Object.keys(i)[0];i[e].default=!0}return i})(m,n,b):null,S=p.length?((e,t={})=>e.reduce((e,r)=>{let n=r.attributes.label||r.attributes.lang||"text",i=r.attributes.lang||"und";return e[n]||(e[n]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),e[n].playlists.push(O((({attributes:e,segments:t,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);let a={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(a.CODECS=e.codecs);let s={attributes:a,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:t};return e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),s})(r),t)),e},{}))(p,n):null,y=d.concat(P(h),P(S));return g.timelineStarts=U(y.map(({timelineStarts:e})=>e)),s=g.timelineStarts,y.forEach(e=>{e.mediaSequence=0,e.discontinuitySequence=s.findIndex(function({timeline:t}){return t===e.timeline}),e.segments&&e.segments.forEach((e,t)=>{e.number=t})}),h&&(g.mediaGroups.AUDIO.audio=h),S&&(g.mediaGroups.SUBTITLES.subs=S),(f.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=f.reduce((e,t)=>(t&&t.forEach(t=>{let{channel:r,language:n}=t;e[n]={autoselect:!1,default:!1,instreamId:r,language:n},t.hasOwnProperty("aspectRatio")&&(e[n].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[n].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[n]["3D"]=t["3D"])}),e),{})),i)?(({oldManifest:e,newManifest:t})=>{let r=e.playlists.concat(D(e)),n=t.playlists.concat(D(t));return t.timelineStarts=U([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:r})=>{t.forEach(t=>{t.discontinuitySequence=r.findIndex(function({timeline:e}){return e===t.timeline});let n=((e,t)=>{for(let r=0;r<e.length;r++)if(e[r].attributes.NAME===t)return e[r];return null})(e,t.attributes.NAME);if(!n||t.sidx)return;let i=t.segments[0],a=n.segments.findIndex(function(e){return Math.abs(e.presentationTime-i.presentationTime)<T});if(-1===a){N({playlist:t,mediaSequence:n.mediaSequence+n.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),(!n.segments.length&&t.timeline>n.timeline||n.segments.length&&t.timeline>n.segments[n.segments.length-1].timeline)&&t.discontinuitySequence--;return}n.segments[a].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),N({playlist:t,mediaSequence:n.segments[a].number})})})({oldPlaylists:r,newPlaylists:n,timelineStarts:t.timelineStarts}),t})({oldManifest:i,newManifest:g}):g})({dashPlaylists:r.representationInfo.map($),locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:r.eventStream})},K=e=>(e=>{let t=k(e,"UTCTiming")[0];if(!t)return null;let r=j(t);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;default:throw Error(f.UNSUPPORTED_UTC_TIMING_SCHEME)}return r})(Z(e))},56986:e=>{var t,r,n,i;t=function(e){return 9e4*e},r=function(e,t){return e*t},n=function(e){return e/9e4},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:t,secondsToAudioTs:r,videoTsToSeconds:n,audioTsToSeconds:i=function(e,t){return e/t},audioTsToVideoTs:function(e,r){return t(i(e,r))},videoTsToAudioTs:function(e,t){return r(n(e),t)},metadataTsToSeconds:function(e,t,r){return n(r?e:e-t)}}},69172:(e,t,r)=>{var n=r(94594).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===r.version?(r.earliestPresentationTime=t.getUint32(i),r.firstOffset=t.getUint32(i+4),i+=8):(r.earliestPresentationTime=n(e.subarray(i)),r.firstOffset=n(e.subarray(i+8)),i+=16),i+=2;var a=t.getUint16(i);for(i+=2;a>0;i+=12,a--)r.references.push({referenceType:(128&e[i])>>>7,referencedSize:0x7fffffff&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:0xfffffff&t.getUint32(i+8)});return r}},94594:e=>{e.exports={getUint64:function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getBigUint64?(t=r.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:0x100000000*r.getUint32(0)+r.getUint32(4)},MAX_UINT32:0x100000000}}}]);
//# sourceMappingURL=vendors-572a897f-369239b76dea7f13.js.map